// @import '../../../styles.scss';

.rewrite-container {
  @apply flex h-screen flex-col bg-gray-50;
}

.rewrite-header {
  @apply flex items-center justify-between border-b border-gray-200 bg-white px-6 py-4 shadow-sm;

  .header-left {
    @apply flex-shrink-0;

    .title {
      @apply text-xl font-bold text-gray-900;
    }
  }

  .header-center {
    @apply flex justify-center;

    // Ensure user menu doesn't get too wide on large screens
    max-width: 300px;

    @media (max-width: 768px) {
      @apply flex-none mx-2;
    }
  }

  .header-actions {
    @apply flex items-center space-x-2 flex-shrink-0;

    .header-btn {
      @apply transition-colors duration-200;
    }
  }
}

.rewrite-content {
  @apply flex flex-1 overflow-hidden;
}

.chat-history-sidebar {
  @apply w-80 border-r border-gray-200 bg-white;

  .sidebar-header {
    @apply border-b border-gray-200 px-4 py-3;

    h3 {
      @apply text-lg font-semibold text-gray-900;
    }
  }

  .history-list {
    @apply h-full overflow-y-auto p-2;

    .empty-history {
      @apply flex h-32 items-center justify-center text-gray-500;
    }

    .history-item {
      @apply mb-2 cursor-pointer rounded-lg border border-transparent p-3 transition-colors duration-200 hover:bg-gray-50;

      &.active {
        @apply border-blue-200 bg-blue-50;
      }

      .history-title {
        @apply truncate text-sm font-medium text-gray-900;
      }

      .history-time {
        @apply mt-1 text-xs text-gray-500;
      }
    }

    .loading-more {
      @apply flex items-center justify-center py-4;
    }
  }
}

.chat-main {
  @apply flex-1 overflow-hidden;
}

.mobile-menu {
  @apply fixed bottom-4 left-1/2 z-50 flex -translate-x-1/2 transform items-center space-x-2 rounded-full bg-white px-4 py-2 shadow-lg;
}

.mobile-history-overlay {
  @apply fixed inset-0 z-50 bg-black bg-opacity-50;

  .mobile-history-container {
    @apply absolute right-0 top-0 h-full w-80 bg-white shadow-xl;

    .mobile-history-header {
      @apply flex items-center justify-between border-b border-gray-200 px-4 py-3;

      h3 {
        @apply text-lg font-semibold text-gray-900;
      }
    }

    .mobile-history-content {
      @apply h-full overflow-y-auto p-2;

      .empty-history {
        @apply flex h-32 items-center justify-center text-gray-500;
      }

      .history-item {
        @apply mb-2 cursor-pointer rounded-lg border border-transparent p-3 transition-colors duration-200 hover:bg-gray-50;

        &.active {
          @apply border-blue-200 bg-blue-50;
        }

        .history-title {
          @apply truncate text-sm font-medium text-gray-900;
        }

        .history-time {
          @apply mt-1 text-xs text-gray-500;
        }
      }
    }
  }
}

// Responsive design
@media (max-width: 768px) {
  .chat-history-sidebar {
    @apply hidden;
  }

  .rewrite-header {
    @apply px-4 py-3;

    .header-actions {
      @apply space-x-1;
    }
  }
}
