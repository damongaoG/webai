<div class="login-container">
  <div class="login-card">
    <h2 class="login-title" nz-typography>Welcome to TudorAI</h2>

    <form (ngSubmit)="submitForm()" [formGroup]="loginForm" nz-form>
      <nz-form-item>
        <nz-form-control nzErrorTip="Please input your email!">
          <nz-input-group nzPrefixIcon="user">
            <input
              formControlName="username"
              nz-input
              placeholder="Email"
              type="text"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control nzErrorTip="Password must be at least 6 characters!">
          <nz-input-group nzPrefixIcon="lock">
            <input
              formControlName="password"
              nz-input
              placeholder="Password"
              type="password"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <!-- <nz-form-item>
        <label formControlName="rememberMe" nz-checkbox>Remember me</label>
      </nz-form-item>-->

      <!-- Captcha and VerifyCode field: shown only when showVerifyCode is true -->
      <nz-form-item *ngIf="showVerifyCode">
        <nz-form-control nzErrorTip="Please input verification code!">
          <div
            class="verify-code-container"
            style="display: flex; align-items: center"
          >
            <nz-input-group style="flex: 1; margin-right: 8px">
              <input
                formControlName="verifyCode"
                nz-input
                placeholder="Verification Code"
                type="text"
              />
            </nz-input-group>
            <img
              (click)="refreshKaptcha()"
              [src]="kaptchaUrl"
              alt="Captcha"
              class="kaptcha-image"
              style="
                cursor: pointer;
                height: 43px;
                border: 1px solid #ffa500;
                border-radius: 4px;
              "
            />
          </div>
        </nz-form-control>
      </nz-form-item>

      <div class="login-links">
        <a (click)="navigateToForgotPassword()">Forgot password?</a>
      </div>

      <button
        style="background: #ffa500; border-color: #ffa500"
        [nzLoading]="isLoading"
        nz-button
        nzBlock
        nzType="primary"
      >
        Log In
      </button>

      <div class="signup-link">
        Don't have an account?
        <a (click)="navigateToSignup()">Sign up</a>
        <span class="divider">Â·</span>
        <a (click)="navigateToPrivacy()">Privacy Policy</a>
      </div>
    </form>
  </div>
</div> 